<!DOCTYPE html><html lang="en"><head><%- include('partials/head') %><title>All Loads</title></head><body><%- include('partials/navbar') %><main class="container py-5"><div class="d-flex justify-content-between align-items-center mb-3"><h1>All Loads</h1><form class="d-flex" method="GET" action="/loads/all"><input class="form-control me-2" name="q" placeholder="Search pickup, drop, commodity" value="<%= q %>"><select class="form-select me-2" name="truckType"><option value="">Any truck</option><option value="Box" <%= truckType==='Box'?'selected':''%>>Box</option><option value="Flatbed" <%= truckType==='Flatbed'?'selected':''%>>Flatbed</option><option value="Reefer" <%= truckType==='Reefer'?'selected':''%>>Reefer</option></select><button class="btn btn-outline-primary" type="submit">Filter</button></form></div><% if (!loads || loads.length === 0) { %><div class="alert alert-info">No loads found.</div><% } %><div class="row g-3"><% (loads || []).forEach(load => { %><div class="col-md-6"><div class="card p-3"><h5 class="card-title mb-1"><%= load.commodity %></h5><p class="mb-1"><strong>From:</strong> <%= load.pickupLocation %> &nbsp; <strong>To:</strong> <%= load.dropoffLocation %></p><p class="mb-1"><strong>Pickup:</strong> <%= new Date(load.pickupDate).toDateString() %> &nbsp; <strong>Delivery:</strong> <%= new Date(load.deliveryDate).toDateString() %></p><p class="mb-1"><strong>Truck:</strong> <%= load.truckType %></p><p class="mb-1"><strong>Posted by:</strong> <%= load.user ? load.user.name || load.user.email : 'Anonymous' %></p></div></div><% }) %></div></main></body></html>
